@model List<Colectare_pubela.Models.ViewModels.ColectareViewModel>

@{
    ViewData["Title"] = "Collection History";
}

<div class="container mt-5">
    <h2 class="text-center mb-4">Collection History</h2>

    <table class="table table-bordered table-hover shadow">
        <thead class="table-dark">
            <tr>
                <th>Collection Entry</th>
                <th>Dumpster ID</th>
                <th>Collection Date</th>
                <th>Address</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var colectare in Model)
            {
                var hasError = "";
                if (colectare.HasError)
                {
                    hasError = "table-danger";
                }

                <tr class="@hasError">
                    <td>@colectare.Id</td>
                    <td class ="@(colectare.ErrorType == "TagId" ? "bg-danger text-white" : "")">@colectare.TagId</td>
                    <td>@colectare.CollectionTime.ToString("dd/MM/yyyy HH:mm")</td>
                    <td class="@(colectare.ErrorType == "Address" ? "bg-danger text-white" : "")">@colectare.Address</td>
                </tr>
            }
        </tbody>
    </table>

    <div class="text-center mt-4">
        <a href="@Url.Action("Index", "Home")" class="btn btn-secondary">Back to Dashboard</a>
    </div>
</div>